"""
A. –ö—É–∑–Ω–µ—á–∏–∫ —Å–æ–±–∏—Ä–∞–µ—Ç –º–æ–Ω–µ—Ç—ã

–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ç–µ—Å—Ç: 2 —Å–µ–∫—É–Ω–¥—ã
–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–∞–º—è—Ç–∏ –Ω–∞ —Ç–µ—Å—Ç: 256 –º–µ–≥–∞–±–∞–π—Ç
–≤–≤–æ–¥: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥
–≤—ã–≤–æ–¥: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥

–ö—É–∑–Ω–µ—á–∏–∫ –ø—Ä—ã–≥–∞–µ—Ç –ø–æ —Å—Ç–æ–ª–±–∏–∫–∞–º, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–º –Ω–∞ –æ–¥–Ω–æ–π –ª–∏–Ω–∏–∏ –Ω–∞ —Ä–∞–≤–Ω—ã—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è—Ö –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
–°—Ç–æ–ª–±–∏–∫–∏ –∏–º–µ—é—Ç –ø–æ—Ä—è–¥–∫–æ–≤—ã–µ –Ω–æ–º–µ—Ä–∞ –æ—Ç 1 –¥–æ ùëõ.
–í –Ω–∞—á–∞–ª–µ –ö—É–∑–Ω–µ—á–∏–∫ —Å–∏–¥–∏—Ç –Ω–∞ —Å—Ç–æ–ª–±–∏–∫–µ —Å –Ω–æ–º–µ—Ä–æ–º 1 –∏ —Ö–æ—á–µ—Ç –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ —Å—Ç–æ–ª–±–∏–∫–∞ —Å –Ω–æ–º–µ—Ä–æ–º ùëõ.
–û–Ω –º–æ–∂–µ—Ç –ø—Ä—ã–≥–Ω—É—Ç—å –≤–ø–µ—Ä–µ–¥ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç 1 –¥–æ ùëò —Å—Ç–æ–ª–±–∏–∫–æ–≤, —Å—á–∏—Ç–∞—è –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ.

–ù–∞ –∫–∞–∂–¥–æ–º —Å—Ç–æ–ª–±–∏–∫–µ –ö—É–∑–Ω–µ—á–∏–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –∏–ª–∏ –ø–æ—Ç–µ—Ä—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–æ–ª–æ—Ç—ã—Ö –º–æ–Ω–µ—Ç
(–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å—Ç–æ–ª–±–∏–∫–∞ —ç—Ç–æ —á–∏—Å–ª–æ –∏–∑–≤–µ—Å—Ç–Ω–æ).
–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫ –Ω—É–∂–Ω–æ –ø—Ä—ã–≥–∞—Ç—å –ö—É–∑–Ω–µ—á–∏–∫—É, —á—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –Ω–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–æ–ª–æ—Ç—ã—Ö –º–æ–Ω–µ—Ç.
–£—á–∏—Ç—ã–≤–∞–π—Ç–µ, —á—Ç–æ –ö—É–∑–Ω–µ—á–∏–∫ –Ω–µ –º–æ–∂–µ—Ç –ø—Ä—ã–≥–∞—Ç—å –Ω–∞–∑–∞–¥.

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –≤–≤–æ–¥—è—Ç—Å—è –¥–≤–∞ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã—Ö —á–∏—Å–ª–∞: ùëõ –∏ ùëò (3‚â§ùëõ‚â§10000, 1‚â§ùëò‚â§10000), —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª–æ–º.
–í–æ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–µ –∑–∞–ø–∏—Å–∞–Ω—ã —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª ùëõ‚àí2 —Ü–µ–ª—ã—Ö —á–∏—Å–ª–∞ ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç, –∫–æ—Ç–æ—Ä–æ–µ –ö—É–∑–Ω–µ—á–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —Å—Ç–æ–ª–±–∏–∫–µ,
 –æ—Ç 2-–≥–æ –¥–æ ùëõ‚àí1-–≥–æ. –ï—Å–ª–∏ —ç—Ç–æ —á–∏—Å–ª–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ, –ö—É–∑–Ω–µ—á–∏–∫ —Ç–µ—Ä—è–µ—Ç –º–æ–Ω–µ—Ç—ã.
 –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤—Å–µ —á–∏—Å–ª–∞ –ø–æ –º–æ–¥—É–ª—é –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—è—Ç 10000.

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
–í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞–∏–±–æ–ª—å—à–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç —Å–æ–±—Ä–∞—Ç—å –ö—É–∑–Ω–µ—á–∏–∫.
–í–æ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è —á–∏—Å–ª–æ –ø—Ä—ã–∂–∫–æ–≤ –ö—É–∑–Ω–µ—á–∏–∫–∞, –∞ –≤ —Ç—Ä–µ—Ç—å–µ–π —Å—Ç—Ä–æ–∫–µ ‚Äì –Ω–æ–º–µ—Ä–∞ –≤—Å–µ—Ö —Å—Ç–æ–ª–±–∏–∫–æ–≤,
–∫–æ—Ç–æ—Ä—ã–µ –ø–æ—Å–µ—Ç–∏–ª –ö—É–∑–Ω–µ—á–∏–∫ (—á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—è).

–ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –Ω–µ—Å–∫–æ–ª—å–∫–æ, –≤—ã–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–π –∏–∑ –Ω–∏—Ö.

–ü—Ä–∏–º–µ—Ä 1
–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
5 3
2 -3 5
–≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
7
3
1 2 4 5

–ü—Ä–∏–º–µ—Ä 2
–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
10 3
-13 -2 -14 -124 -9 -6 -5 -7
–≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
-16
4
1 3 6 8 10

–ü—Ä–∏–º–µ—Ä 3
–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
12 5
-5 -4 -3 -2 -1 1 2 3 4 5
–≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
14
7
1 6 7 8 9 10 11 12
"""


def grasshopper_solution(n, k, costs):
    dp = [0] * (n + 1)
    pr = [0] * (n + 1)
    costs.append(0)
    for i in range(2, n + 1):
        max_cost = dp[i - 1]
        pr[i] = i - 1
        for j in range(2, min(i, k + 1)):
            if max_cost < dp[i - j]:
                max_cost = dp[i - j]
                pr[i] = i - j
        dp[i] = max_cost + costs[i - 2]
    steps = [str(n)]
    i = n
    while i > 1:
        steps.append(str(pr[i]))
        i = pr[i]
    return dp[n], len(steps) - 1, steps[::-1]


def main():
    n, k = map(int, input().split())
    costs = list(map(int, input().split()))
    result = grasshopper_solution(n, k, costs)
    print(result[0])
    print(result[1])
    print(' '.join(result[2]))


if __name__ == "__main__":
    main()
